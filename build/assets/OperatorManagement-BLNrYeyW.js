import{u as Ze,r as t,j as e,A as _e,E as es,F as Q,H as W,B as n,I as E,J as X,T as Y,L as m,D as Z,b as _,d as ee,e as se,f as ae,k as re,t as c}from"./index-DF3sGuuI.js";import{T as te,a as ne,b,c as h,d as le,e as l}from"./table-By5_bbBg.js";import{B as M}from"./badge-mxUUkhBU.js";import{A as ie,a as de,b as ce,c as oe,d as he,e as xe,f as me,g as ge,h as ue}from"./alert-dialog-CjKeQ6w1.js";import{S as k}from"./switch-V3I06Ugq.js";import{C as P}from"./checkbox-2VYLnMPg.js";import{P as je,S as pe}from"./square-pen-CxmWx4NN.js";function ds(){const{operators:v,addOperator:Oe,updateOperator:fe,deleteOperator:Te,externalEntities:O,addExternalEntity:Fe,updateExternalEntity:ve,deleteExternalEntity:Me,ploegen:Ue,addPloeg:$e,updatePloeg:B,deletePloeg:ze,addActivityLog:I,user:D,presses:Be}=Ze(),g=Be.filter(s=>s.active&&!s.archived).map(s=>s.name),[Je,ye]=t.useState(!1),[N,J]=t.useState(null),[i,C]=t.useState({employeeId:"",name:"",presses:[],active:!0,canEditTasks:!1,canAccessOperatorManagement:!1}),[f,be]=t.useState(!1),[x,Ne]=t.useState(!1),[H,Ce]=t.useState([]),[He,we]=t.useState(!1),[w,q]=t.useState(null),[u,S]=t.useState({name:"",presses:[],active:!0}),[j,Ee]=t.useState(!1),[L,ke]=t.useState([]),[Ie,T]=t.useState(!1),[U,$]=t.useState(null),[d,y]=t.useState({name:"",operatorIds:[],active:!0}),[De,qe]=t.useState(!1),[F,Le]=t.useState(!1),[A,R]=t.useState(null);t.useEffect(()=>{Ie&&y(s=>({...s,operatorIds:[]}))},[A]),t.useEffect(()=>{const s=v.some(a=>`Ploeg ${a.name}`===d.name);if(d.operatorIds.length>0){if(d.name.trim()===""||s){const a=d.operatorIds[0],r=v.find(o=>o.id===a);r&&y(o=>({...o,name:`Ploeg ${r.name}`}))}}else(s||d.name.trim()==="")&&y(a=>({...a,name:""}))},[d.operatorIds,v]),t.useEffect(()=>{x&&Ce(v)},[x,v]);const z=(s,a,r)=>{Ce(o=>o.map(p=>p.id===s?{...p,[a]:r}:p))},Se=v.filter(s=>f?!0:s.active),Re=()=>{H.forEach(s=>{const a=v.find(r=>r.id===s.id);a&&JSON.stringify(a)!==JSON.stringify(s)&&fe(s)}),c.success("Changes saved successfully"),Ne(!1)},Ae=s=>{s?(J(s),C({employeeId:s.employeeId,name:s.name,presses:s.presses,active:s.active,canEditTasks:s.canEditTasks,canAccessOperatorManagement:s.canAccessOperatorManagement})):(J(null),C({employeeId:"",name:"",presses:[],active:!0,canEditTasks:!1,canAccessOperatorManagement:!1}),ye(!0))},G=()=>{ye(!1),J(null),C({employeeId:"",name:"",presses:[],active:!0,canEditTasks:!1,canAccessOperatorManagement:!1})},Ge=s=>{C(a=>({...a,presses:a.presses.includes(s)?a.presses.filter(r=>r!==s):[...a.presses,s]}))},Ve=s=>{if(s.preventDefault(),!i.name.trim()){c.error("Please enter operator name");return}if(!i.employeeId.trim()){c.error("Please enter employee ID");return}if(i.presses.length===0){c.error("Please select at least one press");return}if(N){const a={...N,...i};fe(a),c.success("Operator updated successfully"),I({user:D?.username||"Unknown",action:"Updated",entity:"Operator",entityId:N.id,entityName:i.name,details:`Updated operator presses: ${i.presses.join(", ")}`})}else Oe(i),c.success("Operator added successfully"),I({user:D?.username||"Unknown",action:"Created",entity:"Operator",entityId:"new",entityName:i.name,details:`Added new operator with presses: ${i.presses.join(", ")}`});G()},Ke=(s,a)=>{Te(s),c.success(`Operator "${a}" deleted successfully`),I({user:D?.username||"Unknown",action:"Deleted",entity:"Operator",entityId:s,entityName:a,details:"Deleted operator"})};t.useEffect(()=>{j&&ke(O)},[j,O]);const V=(s,a,r)=>{ke(o=>o.map(p=>p.id===s?{...p,[a]:r}:p))},Qe=()=>{L.forEach(s=>{const a=O.find(r=>r.id===s.id);a&&JSON.stringify(a)!==JSON.stringify(s)&&ve(s)}),c.success("Changes saved successfully"),Ee(!1)},Pe=s=>{s?(q(s),S({name:s.name,presses:s.presses,active:s.active})):(q(null),S({name:"",presses:[],active:!0}),we(!0))},K=()=>{we(!1),q(null),S({name:"",presses:[],active:!0})},We=s=>{S(a=>({...a,presses:a.presses.includes(s)?a.presses.filter(r=>r!==s):[...a.presses,s]}))},Xe=s=>{if(s.preventDefault(),!u.name.trim()){c.error("Please enter entity name");return}if(u.presses.length===0){c.error("Please select at least one press");return}if(w){const a={...w,...u};ve(a),c.success("External entity updated successfully"),I({user:D?.username||"Unknown",action:"Updated",entity:"External Entity",entityId:w.id,entityName:u.name,details:`Updated external entity presses: ${u.presses.join(", ")}`})}else Fe(u),c.success("External entity added successfully"),I({user:D?.username||"Unknown",action:"Created",entity:"External Entity",entityId:"new",entityName:u.name,details:`Added new external entity with presses: ${u.presses.join(", ")}`});K()},Ye=(s,a)=>{Me(s),c.success(`External entity "${a}" deleted successfully`),I({user:D?.username||"Unknown",action:"Deleted",entity:"External Entity",entityId:s,entityName:a,details:"Deleted external entity"})};return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-gray-900",children:"Personnel Management"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Manage operators and external entities"})]})}),e.jsxs(_e,{defaultValue:"operators",className:"w-full",children:[e.jsxs(es,{children:[e.jsx(Q,{value:"operators",children:"Operators"}),e.jsx(Q,{value:"external",children:"External Entities"}),e.jsx(Q,{value:"ploegen",children:"Ploegen"})]}),e.jsxs(W,{value:"operators",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(n,{variant:f?"secondary":"outline",size:"sm",onClick:()=>be(!f),className:f?"bg-gray-200 hover:bg-gray-300 text-gray-900":"text-gray-500",children:f?"Showing Inactive":"Show Inactive"})}),e.jsxs("div",{className:"flex gap-2",children:[x&&e.jsx(n,{onClick:Re,children:"Save Changes"}),e.jsx(n,{onClick:()=>Ne(!x),variant:"outline",children:x?"Cancel":"Edit Mode"}),e.jsxs(n,{onClick:()=>Ae(),className:"gap-2",children:[e.jsx(je,{className:"w-4 h-4"}),"Add Operator"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:e.jsxs(te,{children:[e.jsx(ne,{children:e.jsxs(b,{className:"bg-gray-50 hover:bg-gray-50",children:[e.jsx(h,{className:"border-r border-gray-200 font-semibold text-gray-900",children:"ID"}),e.jsx(h,{className:"border-r border-gray-200 font-semibold text-gray-900",children:"Name"}),g.map(s=>e.jsx(h,{className:"w-[100px] text-center border-r border-gray-200 font-semibold text-gray-900",children:s},s)),e.jsx(h,{className:"w-[100px] text-center border-r border-gray-200 font-semibold text-gray-900",children:"Status"}),!x&&e.jsx(h,{className:"text-right w-[100px] font-semibold text-gray-900",children:"Actions"})]})}),e.jsx(le,{children:(x?H:Se).length===0?e.jsx(b,{children:e.jsx(l,{colSpan:x?g.length+3:g.length+4,className:"text-center py-12 text-gray-500",children:"No operators found."})}):(x?H:Se).map(s=>e.jsxs(b,{className:"hover:bg-gray-50/50",children:[e.jsx(l,{className:"border-r border-gray-200",children:x?e.jsx(E,{value:s.employeeId,onChange:a=>z(s.id,"employeeId",a.target.value),className:"h-8"}):s.employeeId}),e.jsx(l,{className:"border-r border-gray-200 font-medium",children:x?e.jsx(E,{value:s.name,onChange:a=>z(s.id,"name",a.target.value),className:"h-8"}):s.name}),g.map(a=>e.jsx(l,{className:"border-r border-gray-200 p-0",children:e.jsx("div",{className:"flex justify-center items-center h-full py-2",children:x?e.jsx(P,{checked:s.presses.includes(a),onCheckedChange:r=>{const o=r?[...s.presses,a]:s.presses.filter(p=>p!==a);z(s.id,"presses",o)}}):s.presses.includes(a)?e.jsx(X,{className:"w-5 h-5 text-green-600"}):e.jsx("span",{className:"text-gray-300",children:"-"})})},a)),e.jsx(l,{className:"border-r border-gray-200 text-center",children:x?e.jsx("div",{className:"flex justify-center",children:e.jsx(k,{checked:s.active,onCheckedChange:a=>z(s.id,"active",a)})}):s.active?e.jsx(M,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Active"}):e.jsx(M,{variant:"outline",className:"bg-gray-50 text-gray-600 border-gray-200",children:"Inactive"})}),!x&&e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>Ae(s),children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsxs(ie,{children:[e.jsx(de,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"sm",children:e.jsx(Y,{className:"w-4 h-4 text-red-500"})})}),e.jsxs(ce,{children:[e.jsxs(oe,{children:[e.jsx(he,{children:"Delete Operator"}),e.jsxs(xe,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),e.jsxs(me,{children:[e.jsx(ge,{children:"Cancel"}),e.jsx(ue,{onClick:()=>Ke(s.id,s.name),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},s.id))})]})})]}),e.jsxs(W,{value:"external",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(n,{variant:f?"secondary":"outline",size:"sm",onClick:()=>be(!f),className:f?"bg-gray-200 hover:bg-gray-300 text-gray-900":"text-gray-500",children:f?"Showing Inactive":"Show Inactive"})}),e.jsxs("div",{className:"flex gap-2",children:[j&&e.jsx(n,{onClick:Qe,children:"Save Changes"}),e.jsx(n,{onClick:()=>Ee(!j),variant:"outline",children:j?"Cancel":"Edit Mode"}),e.jsxs(n,{onClick:()=>Pe(),className:"gap-2",children:[e.jsx(je,{className:"w-4 h-4"}),"Add External Entity"]})]})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm overflow-hidden",children:e.jsxs(te,{children:[e.jsx(ne,{children:e.jsxs(b,{className:"bg-gray-50 hover:bg-gray-50",children:[e.jsx(h,{className:"border-r border-gray-200 font-semibold text-gray-900",children:"Name"}),g.map(s=>e.jsx(h,{className:"w-[100px] text-center border-r border-gray-200 font-semibold text-gray-900",children:s},s)),e.jsx(h,{className:"w-[100px] text-center border-r border-gray-200 font-semibold text-gray-900",children:"Status"}),!j&&e.jsx(h,{className:"text-right w-[100px] font-semibold text-gray-900",children:"Actions"})]})}),e.jsx(le,{children:(j?L:O.filter(s=>f?!0:s.active)).length===0?e.jsx(b,{children:e.jsx(l,{colSpan:j?g.length+2:g.length+3,className:"text-center py-12 text-gray-500",children:"No external entities found."})}):(j?L:O.filter(s=>f?!0:s.active)).map(s=>e.jsxs(b,{className:"hover:bg-gray-50/50",children:[e.jsx(l,{className:"border-r border-gray-200 font-medium",children:j?e.jsx(E,{value:s.name,onChange:a=>V(s.id,"name",a.target.value),className:"h-8"}):s.name}),g.map(a=>e.jsx(l,{className:"border-r border-gray-200 p-0",children:e.jsx("div",{className:"flex justify-center items-center h-full py-2",children:j?e.jsx(P,{checked:s.presses.includes(a),onCheckedChange:r=>{const o=r?[...s.presses,a]:s.presses.filter(p=>p!==a);V(s.id,"presses",o)}}):s.presses.includes(a)?e.jsx(X,{className:"w-5 h-5 text-green-600"}):e.jsx("span",{className:"text-gray-300",children:"-"})})},a)),e.jsx(l,{className:"border-r border-gray-200 text-center",children:j?e.jsx("div",{className:"flex justify-center",children:e.jsx(k,{checked:s.active,onCheckedChange:a=>V(s.id,"active",a)})}):s.active?e.jsx(M,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"Active"}):e.jsx(M,{variant:"outline",className:"bg-gray-50 text-gray-600 border-gray-200",children:"Inactive"})}),!j&&e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>Pe(s),children:e.jsx(pe,{className:"w-4 h-4"})}),e.jsxs(ie,{children:[e.jsx(de,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"sm",children:e.jsx(Y,{className:"w-4 h-4 text-red-500"})})}),e.jsxs(ce,{children:[e.jsxs(oe,{children:[e.jsx(he,{children:"Delete Entity"}),e.jsxs(xe,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),e.jsxs(me,{children:[e.jsx(ge,{children:"Cancel"}),e.jsx(ue,{onClick:()=>Ye(s.id,s.name),className:"bg-red-500 hover:bg-red-600",children:"Delete"})]})]})]})]})})]},s.id))})]})})]}),e.jsxs(W,{value:"ploegen",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{id:"ploeg-edit-mode",checked:F,onCheckedChange:Le}),e.jsx(m,{htmlFor:"ploeg-edit-mode",children:"Edit Mode"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{id:"show-inactive-ploegen",checked:De,onCheckedChange:qe}),e.jsx(m,{htmlFor:"show-inactive-ploegen",children:"Show Inactive"})]})]}),e.jsxs(n,{onClick:()=>{$(null),T(!0)},children:[e.jsx(je,{className:"mr-2 h-4 w-4"}),"Add Ploeg"]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(te,{children:[e.jsx(ne,{children:e.jsxs(b,{className:"bg-gray-50 hover:bg-gray-50",children:[e.jsx(h,{className:"border-r border-gray-200 font-semibold text-gray-900",children:"ID"}),e.jsx(h,{className:"border-r border-gray-200 font-semibold text-gray-900",children:"Name"}),e.jsx(h,{className:"border-r border-gray-200 font-semibold text-gray-900",children:"Members"}),g.map(s=>e.jsx(h,{className:"w-[100px] text-center border-r border-gray-200 font-semibold text-gray-900",children:s},s)),e.jsx(h,{className:"w-[100px] text-center border-r border-gray-200 font-semibold text-gray-900",children:"Status"}),!F&&e.jsx(h,{className:"text-right w-[100px] font-semibold text-gray-900",children:"Actions"})]})}),e.jsx(le,{children:Ue.filter(s=>De?!0:s.active).map(s=>e.jsxs(b,{children:[e.jsx(l,{className:"border-r border-gray-200",children:s.id}),e.jsx(l,{className:"border-r border-gray-200",children:s.name}),e.jsx(l,{className:"border-r border-gray-200",children:s.operatorIds.map(a=>v.find(o=>o.id===a)?.name).filter(Boolean).join(", ")}),g.map(a=>e.jsx(l,{className:"border-r border-gray-200 p-0",children:e.jsx("div",{className:"flex justify-center items-center h-full py-2",children:F?e.jsx(P,{checked:s.presses.includes(a),onCheckedChange:r=>{const o=r?[...s.presses,a]:s.presses.filter(p=>p!==a);B({...s,presses:o})}}):s.presses.includes(a)?e.jsx(X,{className:"w-5 h-5 text-green-600"}):e.jsx("span",{className:"text-gray-300",children:"-"})})},a)),e.jsx(l,{className:"border-r border-gray-200 p-0",children:e.jsx("div",{className:"flex justify-center items-center h-full py-2",children:F?e.jsx(P,{checked:s.active,onCheckedChange:a=>{B({...s,active:!!a})}}):e.jsx(M,{variant:s.active?"default":"secondary",children:s.active?"Active":"Inactive"})})}),!F&&e.jsx(l,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{variant:"ghost",size:"sm",onClick:()=>{$(s),y({name:s.name,operatorIds:s.operatorIds,active:s.active}),s.presses.length>0&&R(s.presses[0]),T(!0)},children:e.jsx(pe,{className:"h-4 w-4"})}),e.jsxs(ie,{children:[e.jsx(de,{asChild:!0,children:e.jsx(n,{variant:"ghost",size:"sm",children:e.jsx(Y,{className:"h-4 w-4 text-red-500"})})}),e.jsxs(ce,{children:[e.jsxs(oe,{children:[e.jsx(he,{children:"Delete Ploeg"}),e.jsxs(xe,{children:['Are you sure you want to delete "',s.name,'"? This action cannot be undone.']})]}),e.jsxs(me,{children:[e.jsx(ge,{children:"Cancel"}),e.jsx(ue,{onClick:()=>ze(s.id),children:"Delete"})]})]})]})]})})]},s.id))})]})})]})]}),e.jsx(Z,{open:Je||!!N,onOpenChange:G,children:e.jsxs(_,{className:"max-w-md",children:[e.jsxs(ee,{children:[e.jsx(se,{children:N?"Edit Operator":"Add New Operator"}),e.jsx(ae,{children:N?"Update the operator details below.":"Fill in the details for the new operator."})]}),e.jsxs("form",{onSubmit:Ve,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"employeeId",children:"Employee ID *"}),e.jsx(E,{id:"employeeId",placeholder:"e.g., EMP001",value:i.employeeId,onChange:s=>C({...i,employeeId:s.target.value})})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"operatorName",children:"Name *"}),e.jsx(E,{id:"operatorName",placeholder:"e.g., John Doe",value:i.name,onChange:s=>C({...i,name:s.target.value})})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(m,{children:"Available Presses *"}),e.jsx("div",{className:"space-y-2 border rounded-md p-3",children:g.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{id:`press-${s}`,checked:i.presses.includes(s),onCheckedChange:()=>Ge(s)}),e.jsx("label",{htmlFor:`press-${s}`,className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:s})]},s))})]}),e.jsxs("div",{className:"flex items-center justify-between border rounded-md p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{htmlFor:"operatorActive",children:"Active Status"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Inactive operators won't appear in assignment lists"})]}),e.jsx(k,{id:"operatorActive",checked:i.active,onCheckedChange:s=>C({...i,active:s})})]})]}),e.jsxs(re,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:G,children:"Cancel"}),e.jsx(n,{type:"submit",children:N?"Update Operator":"Add Operator"})]})]})]})}),e.jsx(Z,{open:He||!!w,onOpenChange:K,children:e.jsxs(_,{className:"max-w-md",children:[e.jsxs(ee,{children:[e.jsx(se,{children:w?"Edit External Entity":"Add New External Entity"}),e.jsx(ae,{children:w?"Update the external entity details below.":"Fill in the details for the new external entity."})]}),e.jsxs("form",{onSubmit:Xe,children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"entityName",children:"Name *"}),e.jsx(E,{id:"entityName",placeholder:"e.g., TechSupport Inc.",value:u.name,onChange:s=>S({...u,name:s.target.value})})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(m,{children:"Available Presses *"}),e.jsx("div",{className:"space-y-2 border rounded-md p-3",children:g.map(s=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{id:`external-${s}`,checked:u.presses.includes(s),onCheckedChange:()=>We(s)}),e.jsx("label",{htmlFor:`external-${s}`,className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:s})]},s))})]}),e.jsxs("div",{className:"flex items-center justify-between border rounded-md p-3",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(m,{htmlFor:"externalActive",children:"Active Status"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Inactive entities won't appear in assignment lists"})]}),e.jsx(k,{id:"externalActive",checked:u.active,onCheckedChange:s=>S({...u,active:s})})]})]}),e.jsxs(re,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:K,children:"Cancel"}),e.jsx(n,{type:"submit",children:w?"Update Entity":"Add Entity"})]})]})]})}),e.jsx(Z,{open:Ie,onOpenChange:s=>{T(s),s||($(null),y({name:"",operatorIds:[],active:!0}),R(null))},children:e.jsxs(_,{className:"max-w-md",children:[e.jsxs(ee,{children:[e.jsx(se,{children:U?"Edit Ploeg":"Add New Ploeg"}),e.jsx(ae,{children:"Create a team of 2-3 operators who work together."})]}),e.jsxs("form",{onSubmit:s=>{if(s.preventDefault(),A){const a={...d,presses:[A]};U?(B({...U,...a}),c.success("Ploeg updated successfully")):($e(a),c.success("Ploeg added successfully")),T(!1),$(null),y({name:"",operatorIds:[],active:!0})}else c.error("Please select a press")},children:[e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{htmlFor:"ploeg-name",children:"Ploeg Name *"}),e.jsx(E,{id:"ploeg-name",value:d.name,onChange:s=>y({...d,name:s.target.value}),required:!0})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{children:"Press *"}),e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:A||"",onChange:s=>R(s.target.value||null),required:!0,children:[e.jsx("option",{value:"",children:"Select a press..."}),g.map(s=>e.jsx("option",{value:s,children:s},s))]})]}),e.jsxs("div",{className:"grid gap-2",children:[e.jsx(m,{children:"Team Members (2-3) *"}),e.jsx("div",{className:"space-y-2",children:[0,1,2].map(s=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(m,{className:"w-16",children:[s+1,"."]}),e.jsxs("select",{className:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:d.operatorIds[s]||"",onChange:a=>{const r=[...d.operatorIds];a.target.value?r[s]=a.target.value:r.splice(s,1),y({...d,operatorIds:r.filter(Boolean)})},required:s<2,children:[e.jsx("option",{value:"",children:"Select operator..."}),v.filter(a=>a.active&&(!A||a.presses.includes(A))&&(!d.operatorIds.includes(a.id)||d.operatorIds[s]===a.id)).map(a=>e.jsx("option",{value:a.id,children:a.name},a.id))]})]},s))})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{id:"ploeg-active",checked:d.active,onCheckedChange:s=>y({...d,active:s})}),e.jsx(m,{htmlFor:"ploeg-active",children:"Active"})]})]}),e.jsxs(re,{children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>T(!1),children:"Cancel"}),e.jsx(n,{type:"submit",children:U?"Update Ploeg":"Add Ploeg"})]})]})]})})]})}export{ds as OperatorManagement};
