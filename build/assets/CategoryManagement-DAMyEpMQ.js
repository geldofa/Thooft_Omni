import{u as E,r as o,j as a,Y as O,Z as k,_ as I,$ as T,X as j,B as v,G as A,T as B,t as g}from"./index-BOSUJfQ5.js";import{P as V}from"./plus-PDbYzI3A.js";function P(){const{categoryOrder:t,updateCategoryOrder:n}=E(),[l,m]=o.useState(""),[c,x]=o.useState(null),[i,h]=o.useState(""),[r,p]=o.useState(null),y=()=>{l.trim()&&!t.includes(l.trim())&&(n([...t,l.trim()]),m(""),g.success("Category added successfully"))},N=e=>{const s=t.filter(d=>d!==e);n(s),g.success("Category deleted successfully")},D=e=>{x(e),h(e)},C=()=>{if(i.trim()&&c){const e=t.map(s=>s===c?i.trim():s);n(e),x(null),g.success("Category updated successfully")}},w=(e,s)=>{p(s),e.dataTransfer.setData("text/plain",s)},b=e=>{e.preventDefault()},S=(e,s)=>{if(e.preventDefault(),r&&r!==s){const d=t.indexOf(r),f=t.indexOf(s);if(d!==-1&&f!==-1){const u=[...t];u.splice(d,1),u.splice(f,0,r),n(u)}}p(null)};return a.jsxs(O,{children:[a.jsx(k,{children:a.jsx(I,{children:"Category Management"})}),a.jsxs(T,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2",children:[a.jsx(j,{value:l,onChange:e=>m(e.target.value),placeholder:"New category name",className:"flex-1"}),a.jsxs(v,{onClick:y,className:"gap-2",children:[a.jsx(V,{className:"w-4 h-4"}),"Add Category"]})]}),a.jsx("div",{className:"space-y-2",children:t.map(e=>a.jsxs("div",{draggable:!0,onDragStart:s=>w(s,e),onDragOver:b,onDrop:s=>S(s,e),className:`flex items-center gap-3 p-3 border rounded-lg cursor-move hover:bg-gray-50 transition-colors ${r===e?"bg-blue-50 border-blue-200":""}`,children:[a.jsx(A,{className:"w-4 h-4 text-gray-400 cursor-move"}),c===e?a.jsx(j,{value:i,onChange:s=>h(s.target.value),onBlur:C,onKeyDown:s=>s.key==="Enter"&&C(),autoFocus:!0,className:"flex-1"}):a.jsx("span",{className:"flex-1 cursor-pointer",onClick:()=>D(e),children:e}),a.jsx(v,{variant:"ghost",size:"icon",onClick:()=>N(e),className:"text-red-500 hover:text-red-700 hover:bg-red-50",children:a.jsx(B,{className:"w-4 h-4"})})]},e))}),a.jsx("p",{className:"text-sm text-gray-500",children:"Drag and drop categories to reorder them. This affects how tasks are displayed in the system."})]})]})}export{P as CategoryManagement};
